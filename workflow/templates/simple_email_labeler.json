{
    "name": "Email Labeler",
    "description": "Labels emails according to your label definitions. Make sure that the labels exist in gmail first!",
    "starter_chat": {
        "mode": "prompt",
        "message": "Your Email Labeler workflow has been imported. How would you like to proceed?",
        "responses": [
            { "label": "Fetch labels from my inbox and add them all to the workflow", "message": "Use your tools to fetch my labels from my inbox. Then use the description generation tool to generate descriptions for each label in parallel. Then edit the workflow to add them." },
            { "label": "Fetch labels from my inbox and ask me which ones I want to use", "message": "Use your tools to fetch my labels from my inbox. Then, ask me which ones I would like to add to the workflow. Only for these labels, use the description generation tool to generate descriptions for each label in parallel. Then edit the workflow to add them." },
            { "label": "I don't have labels yet, propose me a few options", "message": "I don't have labels yet, propose me a few options and ask me for my opinion. Once we settled on some labels, edit the workflow to add them." }
        ]
    },
    "workflow_import":{"uuid":"b742fd8b-e490-4eb2-a41d-274b9dd78466","user_id":"12345678-1234-5678-9012-123456789012","name":"V1 Email Labeler (Imported)","description":"Labels emails according to your label definitions. Make sure that the labels exist in gmail first!","is_active":true,"trigger":{"uuid":"d2ee5e06-e960-43d1-8446-7919b7067534","user_id":"12345678-1234-5678-9012-123456789012","workflow_uuid":"b742fd8b-e490-4eb2-a41d-274b9dd78466","filter_rules":{"email_blacklist":[],"email_whitelist":[],"domain_blacklist":[],"domain_whitelist":[]},"trigger_prompt":null,"trigger_model":"google/gemini-2.5-flash","initial_data_description":"The full content and metadata of the new email.","created_at":"2025-08-14T08:40:51","updated_at":"2025-08-14T08:40:50"},"steps":[{"uuid":"72df6c27-5ed5-473d-b28b-6b038f61404c","user_id":"12345678-1234-5678-9012-123456789012","name":"Determine Email Label","description":"","type":"custom_llm","model":"google/gemini-2.5-flash-lite","system_prompt":"You are an expert AI for classifying emails. Your task is to analyze the entire email thread and assign the single most appropriate label from the list below. You must understand the full context of the conversation, the sender's intent, and the current state of the thread.\n\n### **Core Principles**\n\n1.  **Primary Intent Over Keywords**: The email's main goal is the most important factor. A sales pitch that suggests a call is `marketing`, not `meeting`, because the goal is to sell. An automated confirmation for a \"meeting room\" is a `notification`, not a `meeting`, because its purpose is confirmation.\n\n2.  **Tangible Outcome Over Vague Suggestion**: If an email provides a concrete resource (e.g., a registration link, a document) that resolves a query, this takes precedence over a casual offer to \"jump on a call\". The former is `actioned`, while the latter is just part of the conversation.\n\n3.  **Current State Over Original Topic**: The overall topic is set by the thread, but the *most recent message* often determines the label, especially for status changes.\n    *   *Example*: A thread about an invoice is `accounting`. But if the latest reply is \"I have now paid this invoice,\" the state has changed, and the label becomes `actioned`.\n\n4.  **Private/Transactional vs. Public/Promotional**: Distinguish between communications for a specific user and those for a broad audience.\n    *   *Example*: A password reset for your account is a `notification`. An announcement about a new product feature for all users is `marketing`.\n    *   *Example*: A call to schedule with a client is a `meeting`. An announcement for a public webinar is `marketing`.\n\n---\n\n### **Labels & Definitions**\nTODO: fetch the user's labels and descriptions. Or, if the user doesn't have labels yet, ask them which ones they would like\n\n### Email content\n<<trigger_output>>\n\n### Response format\nYou must respond with only the label name as a string, like this:\nlabel_name\n\nFor example, if the email is an invoice, you must respond with:\naccounting\n\nIf no label fits, respond with:\nnone","generated_summary":"You are an expert AI for classifying emails. Your task is to analyze the entire email thread and assign the single most appropriate label from the lis...","created_at":"2025-08-14T08:40:51","updated_at":"2025-08-14T08:45:58"},{"uuid":"b26b941d-6a0d-47c3-ae1f-92c82f25470f","user_id":"12345678-1234-5678-9012-123456789012","name":"Stop if no label","description":"","type":"stop_checker","step_to_check_uuid":"72df6c27-5ed5-473d-b28b-6b038f61404c","check_mode":"stop_if_output_contains","match_values":["none"],"created_at":"2025-08-14T08:40:51","updated_at":"2025-08-14T08:40:50"},{"uuid":"573b2655-fe5a-4fb2-9227-4ab45be7eebb","user_id":"12345678-1234-5678-9012-123456789012","name":"Apply Email Label","description":"","type":"custom_agent","model":"google/gemini-2.5-flash-lite","system_prompt":"You are an email management agent. Your task is to apply the label provided in the previous step to the email.\n\nUse the `set_label` tool to apply the label. The `messageId` can be found in the trigger output and the `label` is in the output of the previous step.\n\n## message:\n<<trigger_output>>\n\n## label:\n<<step_output.72df6c27-5ed5-473d-b28b-6b038f61404c>>","tools":{"imap-set_label":{"enabled":true}},"generated_summary":"You are an email management agent. Your task is to apply the label provided in the previous step to the email.","created_at":"2025-08-14T08:40:51","updated_at":"2025-08-14T08:45:23"}],"template_id":null,"template_version":null,"created_at":"2025-08-14T08:40:51Z","updated_at":"2025-08-14T08:40:51Z"}
  } 
